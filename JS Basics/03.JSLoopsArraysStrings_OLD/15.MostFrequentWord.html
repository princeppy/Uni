<html>
<head>
    <title>Arrays</title>
    <link href="styles/style.css" rel="stylesheet"/>
</head>
<body>
<div id="exercise">
        <span id="inner">15.Write a JavaScript function findMostFreqWord(str) that finds the most frequent word in a text and prints it, as well as how many times it appears in format "word -> count". Consider any non-letter character as a word separator. Ignore the character casing. If several words have the same maximal frequency, print all of them in alphabetical order.
        </span>
</div>
<div>
    <div>
        <label for="input-one">Input text:</label>
        <input id="input-one" placeholder="sample text" type="text">
    </div>
    <!--<div>-->
    <!--<label for="input-two">Input text to search in:</label>-->
    <!--<input id="input-two" placeholder="sample text" type="text">-->
    <!--</div>-->
</div>
<a href="#" onclick="onPrintButtonClick(calcResult())">Print</a>

<div id="result">The result will be printed here...</div>
<script src="scripts/results.js"></script>

<!--Start of the solution-->
<script>
    function calcResult() {

        var text = document.getElementById('input-one').value;
        var re = new RegExp('\\w+', 'g');

        var result = text.match(re);
        var words = {};

        for (var key in result){
            var index = result[key].toLowerCase();
            if(words.hasOwnProperty(index)){
                words[index]++;
            }
            else{
                words[index]=1;
            }
        }
        //Sort by values
        var sortable = [];
        for (var word in words) {
            sortable.push([word, words[word]])
        }
        sortable.sort(function (a, b) {
            return a[1] - b[1]
        });

        sortable.reverse();
        var count = sortable[0][1];
        var arr = [];

        //Get the elements
        for (var m in words) {

            if (words[m] == count) {
                arr.push(m + ' -> ' + words[m]);
                count = words[m];
            }
        }
        arr.sort();


        return arr;
    }
</script>
<!--End of solution-->


</body>
</html>
