<html>
<head>
    <title>Arrays</title>
    <link href="styles/style.css" rel="stylesheet"/>
</head>
<body>
<div id="exercise">
        <span id="inner">19.Write a JavaScript function fixCasing(str) that accepts a text as a parameter. The function must change the text in all regions as follows:<br>
	&lt;upcase&gt;text&lt;/upcase&gt; to uppercase<br>
	&lt;lowcase&gt;text&lt;/lowcase&gt; to lowercase<br>
	&lt;mixcase&gt;text&lt;/mixcase&gt; to mixed casing (randomly)

        </span>
</div>
<div>
    <div>
        <label for="input-one">Input text:</label>
        <textarea id="input-one" placeholder="" type="text"></textarea>
    </div>
    <!--<div>-->
    <!--<label for="input-two">Input text to search in:</label>-->
    <!--<input id="input-two" placeholder="sample text" type="text">-->
    <!--</div>-->
</div>
<a href="#" onclick="onPrintButtonClick(calcResult())">Print</a>

<div id="result">The result will be printed here...</div>
<script src="scripts/results.js"></script>

<!--Start of the solution-->
<script>
    function calcResult() {

        var text = document.getElementById('input-one').value;
        var regex1 = new RegExp('(\<upcase>)(.[^<]+)(<\/upcase>)', 'g');
        var match1 = regex1.exec(text);

        var regex2 = new RegExp('(\<lowcase>)(.[^<]+)(<\/lowcase>)', 'g');
        var match2 = regex2.exec(text);

        var regex3 = new RegExp('(\<mixcase>)(.[^<]+)(<\/mixcase>)', 'g');
        var match3 = regex3.exec(text);

        text = text.replace(match1[1],'');
        text = text.replace(match1[2],match1[2].toUpperCase());
        text = text.replace(match1[3],'');

        text = text.replace(match2[1],'');
        text = text.replace(match2[2],match2[2].toLowerCase());
        text = text.replace(match2[3],'');

        text = text.replace(match3[1],'');
        var rand = Math.random();
        for (var i = 0; i < match3[2].length; i++) {
            rand = Math.random();
            if(rand>0.5){
                text = text.replace(match3[2][i],match3[2][i].toLowerCase());
            }
            else{
                text = text.replace(match3[2][i],match3[2][i].toUpperCase());
            }
        }

        text = text.replace(match3[3],'');

        return text.toString();
    }
</script>
<!--End of solution-->


</body>
</html>
